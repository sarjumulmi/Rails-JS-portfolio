function Survey(e){this.id=e.id,this.description=e.description,this.title=e.title,this.creator_id=e.creator_id,this.created=e.created,this.status=e.status}Survey.renderLi=function(e,t){var i=Survey.templateLi(new Survey(t));e.append(i),$("div.new-form").empty(),$("a#new-survey").show()},$(document).on("turbolinks:load",function(){$("#survey-li-template").html()&&(Survey.templateLi=Handlebars.compile($("#survey-li-template").html())),Handlebars.registerHelper("and",function(e,t){return e&&t}),Handlebars.registerHelper("eq",function(e,t){return e==t})}),$(document).on("turbolinks:load",function(){$("div.new-form").on("click",".remove-records",function(e){$(this).prev("li").children("input[type=hidden]").val("1"),$(this).closest("fieldset").hide(),e.preventDefault()}),$("div.new-form").on("click",".add_fields",function(e){time=(new Date).getTime(),regexp=new RegExp($(this).data("id"),"g"),$(this).parent().prev(".fields").append($(this).data("fields").replace(regexp,time)),e.preventDefault()}),$("div.new-form").on("submit","form.new-survey",function(e){e.preventDefault(),$.ajax({type:"post",url:this.action,data:$(this).serialize()}).done(function(e){Survey.renderLi($("ul#surveys"),e)})})});